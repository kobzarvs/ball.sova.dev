(this.webpackJsonplaballatory=this.webpackJsonplaballatory||[]).push([[0],{31:function(e,n,t){e.exports=t(44)},36:function(e,n,t){},37:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var r=t(0),l=t(22),c=(t(36),t(29)),o=(t(37),function(e){var n=e.children;return r.createElement(r.Fragment,null,r.createElement("nav",{className:"navigation"},r.createElement("a",{href:"https://effector.now.sh"},"Effector"),r.createElement("a",{href:"https://github.com/sergeysova/laBALLatory"},"Source Code")),r.createElement("main",null,n))}),a=t(30),u=t(5),i=t(10),f=t(6),d=t(23),s=t(7),m=t(9),b=t(1),p={easy:5,medium:8,hard:12},g=Object(b.d)(),v=Object(b.d)(),h=Object(b.d)(),j=Object(b.d)(),y=Object(b.d)(),x=y.filterMap((function(e){return e.currentTarget.dataset.position})).map((function(e){return Number.parseInt(e,10)})),O=Object(b.e)("easy"),E=Object(b.e)("start"),k=Object(b.e)(0),w=Object(b.e)([]),I=Object(b.e)(-1),C=Object(b.b)(w,I,(function(e,n){return e.map((function(e,t){var r=e.balls;return n===t?{balls:r.slice(1),complete:!1,over:r[0]}:{balls:r,complete:H({balls:r})&&r.every(J),over:null}}))})),A=Object(b.b)(w,I,(function(e,n){var t;return null!==(t=e.filter((function(e,t){return n===t}))[0])&&void 0!==t?t:null})).map((function(e){var n;return null!==(n=e?e.balls[0]:null)&&void 0!==n?n:null})),B=Object(b.g)({source:w,filter:function(e){var n,t=Object(d.a)(e);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(!F(r)&&!H(r))return!1;if(!r.balls.every(J))return!1}}catch(l){t.e(l)}finally{t.f()}return!0}});Object(b.f)({from:v,to:g});var L=Object(b.j)({source:O,clock:g,fn:function(e){return p[e]}}),M=Object(b.j)({source:[w,I,A],clock:x,fn:function(e,n){var t=Object(m.a)(e,3),r=t[0];return{tubes:r,selectedIndex:t[1],selectedBall:t[2],clickedIndex:n,clickedTube:r[n]}}}),T=Object(b.g)({source:M,filter:function(e){var n,t=e.selectedIndex,r=e.clickedIndex,l=e.selectedBall,c=e.clickedTube;return null!==l&&(t!==r&&(!H(c)&&(!!F(c)||(n=l,c.balls[0]===n))))}}),N=Object(b.g)({source:M,filter:function(e){var n=e.selectedBall,t=e.clickedTube;e.clickedIndex,e.tubes;return null===n&&!F(t)}}),z=Object(b.g)({source:M,filter:function(e){return e.selectedIndex===e.clickedIndex}});function S(e){return e.sort((function(){return Math.random()-.5}))}function F(e){return 0===e.balls.length}function H(e){return 4===e.balls.length}function J(e,n,t){return e===t[0]}function R(){var e=Object(u.a)(["\n  width: 2rem;\n  height: 2rem;\n  border-radius: 50%;\n  border: 2px solid lightgray;\n  background-color: var(--ball-color);\n  margin: 1px;\n  flex-shrink: 0;\n"]);return R=function(){return e},e}function W(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  flex-shrink: 0;\n  align-items: center;\n  border: 2px solid lightgray;\n  border-top: none;\n  width: 3rem;\n  height: 9.8rem;\n  padding-bottom: 0.4rem;\n  padding-top: 0.4rem;\n  border-bottom-left-radius: 2.4rem;\n  border-bottom-right-radius: 2.4rem;\n\n  &[data-complete='true'] {\n    background-color: lightgray;\n  }\n"]);return W=function(){return e},e}function Y(){var e=Object(u.a)(["\n  display: flex;\n  height: 3rem;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-bottom: 4px solid lightgray;\n"]);return Y=function(){return e},e}function q(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n"]);return q=function(){return e},e}function D(){var e=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  max-width: 38rem;\n"]);return D=function(){return e},e}function $(){var e=Object(u.a)(["\n  color: black;\n  padding: 0.6rem 1rem;\n  font-size: 1.3rem;\n  margin: 0 0.5rem;\n"]);return $=function(){return e},e}function G(){var e=Object(u.a)(["\n  background-color: white;\n  color: black;\n  padding: 0.6rem 1rem;\n  font-size: 1.3rem;\n  margin: 0 0.5rem;\n  border: 2px solid lightgray;\n  cursor: pointer;\n  position: relative;\n\n  &:hover {\n    background-color: #f1f1f1;\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 0 4px lightblue;\n    border-color: lightblue;\n  }\n\n  &[data-selected='true'] {\n    border-color: gray;\n    background-color: gray;\n    color: white;\n  }\n"]);return G=function(){return e},e}function K(){var e=Object(u.a)(["\n  font-size: 3rem;\n  font-weight: 300;\n\n  & span {\n    text-decoration: underline;\n  }\n"]);return K=function(){return e},e}function P(){var e=Object(u.a)(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  align-content: center;\n  justify-content: center;\n"]);return P=function(){return e},e}O.on(j,(function(e,n){return n})),E.on(L,(function(){return"ingame"})).on(B,(function(){return"won"})).on(h,(function(){return"start"})),w.on(L,(function(e,n){return function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=Array.from({length:e},(function(e,n){return new Array(4).fill(n)})),l=S((n=[]).concat.apply(n,Object(s.a)(r)));return Array.from({length:e},(function(){return Array.from({length:4},(function(){return l.pop()}))})).concat(Array.from({length:t},(function(){return[]}))).map((function(e){return{balls:e}}))}(n)})),k.reset(L).on(T,(function(e){return e+1})),I.on(N,(function(e,n){return n.clickedIndex})).reset(z,T,L),w.on(T,(function(e,n){var t=n.tubes,r=n.clickedIndex,l=n.selectedIndex,c=n.selectedBall;return t.map((function(e,n){return n===l?{balls:e.balls.slice(1)}:n===r?{balls:[c].concat(Object(s.a)(e.balls))}:e}))}));var Q=E.map((function(e){return"won"===e})),U=function(){var e=Object(i.b)(O);return r.createElement(V,null,r.createElement(X,null,"LA",r.createElement("span",null,"BALL"),"ATORY"),r.createElement("fieldset",null,r.createElement("legend",null,"Difficulty"),r.createElement(Z,{selected:"easy"===e,onClick:function(){return j("easy")},text:"Easy"}),r.createElement(Z,{selected:"medium"===e,onClick:function(){return j("medium")},text:"Medium"}),r.createElement(Z,{selected:"hard"===e,onClick:function(){return j("hard")},text:"Hard"})),r.createElement("br",null),r.createElement(Z,{onClick:g,text:"Start game"}))},V=f.a.div(P()),X=f.a.h2(K()),Z=f.a.button.attrs((function(e){var n=e.selected;return{"data-selected":null!==n&&void 0!==n&&n,type:"button",children:e.text}}))(G()),_=function(){var e=Object(i.b)(Q),n=Object(i.a)(C,(function(e,n){return r.createElement(te,{tube:e,position:n,onClick:y})}));return r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(Z,{onClick:h,text:"Menu"}),r.createElement(Z,{onClick:v,text:"Restart"}),r.createElement(ee,null)),r.createElement(ne,null,n),e&&r.createElement("div",null,"You win!"))},ee=Object(f.a)((function(e){var n=e.className,t=Object(i.b)(k);return r.createElement("span",{className:n},"Moves: ",t)}))($()),ne=f.a.div(D()),te=function(e){var n=e.tube,t=e.position,l=e.onClick;return r.createElement(re,{onClick:l,"data-position":t},r.createElement(le,null,null!==n.over?r.createElement(ae,{ball:n.over}):null),r.createElement(ce,{complete:n.complete},n.balls.map((function(e,n){return r.createElement(ae,{key:n,ball:e})}))))},re=f.a.div(q()),le=f.a.div(Y()),ce=f.a.div.attrs((function(e){return{"data-complete":e.complete}}))(W()),oe=["blue","red","yellow","lime","purple","orange","pink","brown","lightblue","gray","cyan","darkgreen"],ae=f.a.div.attrs((function(e){var n=e.ball;return{style:{"--ball-color":oe[n]}}}))(R()),ue=[{path:"/",exact:!0,component:function(){return"start"===Object(i.b)(E)?r.createElement(U,null):r.createElement(_,null)}},{path:"*",component:function(){return r.createElement("div",null,"Here not found")}}],ie=function(){return Object(a.a)(ue)},fe=function(){return r.createElement(c.a,null,r.createElement(o,null,r.createElement(ie,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.render(r.createElement(fe,null),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.1936a99b.chunk.js.map